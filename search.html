<html>
    <head>
        <title id="title-tag">IDLE PIXEL</title>
        <meta charset="utf-8">
        <link rel="icon" type="image/x-icon" href="https://d1xsc8x7nc5q8t.cloudfront.net/images/favicon.ico">
        <script type="text/javascript" src="https://idlepixel.s3.us-east-2.amazonaws.com/external/jquery/jquery.js"></script>
        <script type="text/javascript" src="https://idlepixel.s3.us-east-2.amazonaws.com/external/jquery/jquery-ui/jquery-ui.min.js"></script>
    </head>

	<!-- items map here, which will be provided by the backend -->
    <script src="./items.js" type="text/javascript"></script>

    <body style="background-image:url('https://d1xsc8x7nc5q8t.cloudfront.net/images/background2_dark.jpg')">
        <!-- all items returned from backend will be in a large key->value variable, called data. -->
        <!-- example of hero avatar -->
        <img style="z-index:9;position:absolute; left:49%"  src="https://d1xsc8x7nc5q8t.cloudfront.net/images/hero_head_none.png" />
        <img style="z-index:11;position:absolute;left:49%" src="https://d1xsc8x7nc5q8t.cloudfront.net/images/hero_body_none.png" />
        <img style="z-index:11;position:absolute;left:49%"   src="https://d1xsc8x7nc5q8t.cloudfront.net/images/hero_gloves_none.png" />
        <img style="z-index:12;position:absolute;left:49%" src="https://d1xsc8x7nc5q8t.cloudfront.net/images/hero_legs_none.png" />
        <img style="z-index:11;position:absolute;left:49%"  src="https://d1xsc8x7nc5q8t.cloudfront.net/images/hero_boots_none.png" />
        <img style="z-index:13;position:absolute;left:49%"   src="https://d1xsc8x7nc5q8t.cloudfront.net/images/hero_shield_none.png" />
        <img style="z-index:14;position:absolute;left:49%"   src="https://d1xsc8x7nc5q8t.cloudfront.net/images/hero_weapon_none.png" />
        <img style="z-index:15;position:absolute;left:49%"   src="https://d1xsc8x7nc5q8t.cloudfront.net/images/hero_amulet_none.png" />
    </body>
</html>

<script>
    // examples
    console.log(data['username']);
    console.log(data['mining_xp']);
</script>
<script type="text/javascript">
    function get_level(playerXP, includeVirtual) {
        if (playerXP == null)
        return 1;
        if(playerXP == 0)
            return 1;
        
        var iMax = 100;
        if(includeVirtual)
            iMax = 1000;
        
        for(var i = 1; i <= iMax; i++)
        {
            var power = 3 + (i / 200);
            var xp = Math.pow(i, power);
            if(playerXP < xp)
                return i - 1;
        }
        
        return iMax;
    }

    function get_global_level(array_of_skill_xp) { 
        var level = 0;
        for(var i = 0; i < array_of_skill_xp.length; i++)
        {
            level += parseInt(get_level(array_of_skill_xp[i]))
        }
        return level;
    }
</script>